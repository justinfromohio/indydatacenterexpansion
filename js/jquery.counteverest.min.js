!function(e){function t(t,l){this.element=t,this.settings=e.extend({},s,l),this._defaults=s,this._name=n,this._serverDate=null,this._javaScriptDate=null,this.currentDate=null,this.targetDate=null,this.days=null,this.hours=null,this.minutes=null,this.seconds=null,this.deciseconds=null,this.milliseconds=null,this.daysLabel=null,this.hoursLabel=null,this.minutesLabel=null,this.secondsLabel=null,this.decisecondsLabel=null,this.millisecondsLabel=null,this._intervalId=null,this._wrapsExists={},this._oldValues={},this._changed=!1,this.init()}var n="countEverest",s={day:1,month:1,year:2050,hour:0,minute:0,second:0,millisecond:0,timeZone:!1,daysWrapper:".ce-days",hoursWrapper:".ce-hours",minutesWrapper:".ce-minutes",secondsWrapper:".ce-seconds",decisecondsWrapper:".ce-dseconds",millisecondsWrapper:".ce-mseconds",daysLabelWrapper:".ce-days-label",hoursLabelWrapper:".ce-hours-label",minutesLabelWrapper:".ce-minutes-label",secondsLabelWrapper:".ce-seconds-label",decisecondsLabelWrapper:".ce-dseconds-label",millisecondsLabelWrapper:".ce-mseconds-label",daysLabel:"Days",dayLabel:"Day",hoursLabel:"Hours",hourLabel:"Hour",minutesLabel:"Minutes",minuteLabel:"Minute",secondsLabel:"Seconds",secondLabel:"Second",decisecondsLabel:"Deciseconds",decisecondLabel:"Decisecond",millisecondsLabel:"Milliseconds",millisecondLabel:"Millisecond",timeout:1e3,highspeedTimeout:4,leftHandZeros:!0,wrapDigits:!0,wrapDigitsTag:"span",dayInMilliseconds:864e5,hourInMilliseconds:36e5,minuteInMilliseconds:6e4,secondInMilliseconds:1e3,decisecondInMilliseconds:100,onInit:null,beforeCalculation:null,afterCalculation:null,onCalculation:null,onChange:null,onComplete:null};t.prototype={init:function(){var t=this,n=t.element,s=t.settings;(e(n).find(s.decisecondsWrapper).length>0||e(n).find(s.millisecondsWrapper).length>0)&&(s.timeout=s.highspeedTimeout),e.isFunction(s.onInit)&&s.onInit.call(t),t._intervalId=setInterval(function(){t.calculate()},s.timeout),t.calculate()},calculate:function(){var t=this,n=t.settings,s=n.dayInMilliseconds,l=n.hourInMilliseconds,i=n.minuteInMilliseconds,a=n.secondInMilliseconds,o=n.decisecondInMilliseconds,r=!1;t.setTargetDate(new Date(n.year,n.month-1,n.day,n.hour,n.minute,n.second));var c=t.getCurrentDate(),d=t.getTargetDate(),u=c.getTime(),h=n.timeZone===!1?0:(d.getTimezoneOffset()/60+n.timeZone)*n.hourInMilliseconds,m=d.getTime()-h,p=m-u,g=p;e.isFunction(n.beforeCalculation)&&n.beforeCalculation.call(t),t._changed=!1;var f=Math.floor(g/s);g%=s;var b=Math.floor(g/l);g%=l;var L=Math.floor(g/i);g%=i;var D=Math.floor(g/a),v=g%a,_=Math.floor(v/o);f=t.naturalNum(f),b=t.naturalNum(b),L=t.naturalNum(L),D=t.naturalNum(D),v=t.naturalNum(v),_=t.naturalNum(_),t.days=f,t.hours=b,t.minutes=L,t.seconds=D,t.milliseconds=v,t.deciseconds=_,t.format(),t.output(),Math.floor(p/n.timeout)<=0&&(r=!0,(null!=n.millisecondsWrapper||null!=n.decisecondsWrapper)&&(r=0>=p?!0:!1)),1==r&&(e.isFunction(n.onComplete)&&n.onComplete.call(t),clearInterval(t._intervalId)),e.isFunction(n.onCalculation)&&n.onCalculation.call(t),e.isFunction(n.afterCalculation)&&n.afterCalculation.call(t)},format:function(){var e=this,t=e.settings,n=e.days,s=e.hours,l=e.minutes,i=e.seconds,a=e.deciseconds,o=e.milliseconds,r=t.dayLabel,c=t.hourLabel,d=t.minuteLabel,u=t.secondLabel,h=t.decisecondLabel,m=t.millisecondsLabel;1==t.leftHandZeros&&(e.days=e.strPad(n,2),e.hours=e.strPad(s,2),e.minutes=e.strPad(l,2),e.seconds=e.strPad(i,2),e.milliseconds=e.strPad(o,3)),e.daysLabel=1==n&&null!==r?r:t.daysLabel,e.hoursLabel=1==s&&null!==c?c:t.hoursLabel,e.minutesLabel=1==l&&null!==d?d:t.minutesLabel,e.secondsLabel=1==i&&null!==u?u:t.secondsLabel,e.decisecondsLabel=1==a&&null!==h?h:t.decisecondsLabel,e.millisecondsLabel=1==o&&null!==m?m:t.millisecondsLabel},output:function(){var t=this,n=t.settings;t.writeLabelToDom(n.daysLabelWrapper,t.daysLabel),t.writeLabelToDom(n.hoursLabelWrapper,t.hoursLabel),t.writeLabelToDom(n.minutesLabelWrapper,t.minutesLabel),t.writeLabelToDom(n.secondsLabelWrapper,t.secondsLabel),t.writeLabelToDom(n.decisecondsLabelWrapper,t.decisecondsLabel),t.writeLabelToDom(n.millisecondsLabelWrapper,t.millisecondsLabel),t.writeDigitsToDom(n.daysWrapper,t.days,"ce-days-digit"),t.writeDigitsToDom(n.hoursWrapper,t.hours,"ce-hours-digit"),t.writeDigitsToDom(n.minutesWrapper,t.minutes,"ce-minutes-digit"),t.writeDigitsToDom(n.secondsWrapper,t.seconds,"ce-seconds-digit"),t.writeDigitsToDom(n.decisecondsWrapper,t.deciseconds,"ce-dseconds-digit"),t.writeDigitsToDom(n.millisecondsWrapper,t.milliseconds,"ce-mseconds-digit"),e.isFunction(n.onChange)&&1==t._changed&&n.onChange.call(t)},pause:function(){var e=this,t=e._intervalId;t&&clearInterval(t)},resume:function(){var e=this,t=e.settings;e._intervalId=setInterval(function(){e.calculate()},t.timeout)},destroy:function(){var t=this,n=t._intervalId;e(t.element),n&&clearInterval(n)},getOption:function(e){return this.settings[e]},setOption:function(e,t){this.settings[e]=t},setTargetDate:function(e){this.targetDate=e},getTargetDate:function(){return this.targetDate},setCurrentDate:function(e){this.currentDate=e},getCurrentDate:function(){return new Date},getOptions:function(){return this.settings},naturalNum:function(e){return 0>e?0:e},strPad:function(e,t,n){var s=e.toString();for(n||(n="0");s.length<t;)s=n+s;return s},writeLabelToDom:function(t,n){var s=this,l=e(s.element);null==s._wrapsExists[t]&&(s._wrapsExists[t]=l.find(t).length>0?!0:!1),s._oldValues[t]!=n&&s._wrapsExists[t]&&(s._oldValues[t]=n,l.find(t).text(n),s._changed=!0)},writeDigitsToDom:function(t,n,s){var l,i,a=this,o=a.settings,r=o.wrapDigitsTag,c=e(a.element),d=c.find(t),n=n.toString(),u=[];if(null==a._wrapsExists[t]&&(a._wrapsExists[t]=d.length>0?!0:!1),0==a._wrapsExists[t])return!1;if(1==o.wrapDigits)for(var h=0;h<n.length;h++)u[h]=n[h];else u[0]=n;if("undefined"==typeof a._oldValues[t]&&(a._oldValues[t]=[]),a._oldValues[t].length>u.length){i=a._oldValues[t].length-u.length,l=d.find(r),l.slice(0,i).remove(),l=d.find(r);for(var h=0;h<u.length;h++)l.eq(h).addClass("test").text(u[h]);a._changed=!0}if(a._oldValues[t].length<u.length){if(0==o.wrapDigits)d.text(u[0]);else{0==a._oldValues[t].length&&d.text("");for(var m="",h=0;h<u.length;h++)i=u.length-a._oldValues[t].length,i>h?m+="<"+r+' class="'+s+'">'+u[h]+"</"+r+">":(l=d.find(r),l.eq(h-i).text(u[h]));d.prepend(m)}a._changed=!0}if(a._oldValues[t].length==u.length)if(0==o.wrapDigits)a._oldValues[t][0]!=u[0]&&(d.text(u[0]),a._changed=!0);else for(var h=0;h<u.length;h++)a._oldValues[t][h]!=u[h]&&(l=d.find(r),l.eq(h).text(u[h]),a._changed=!0);a._oldValues[t]=[];for(var h=0;h<u.length;h++)a._oldValues[t][h]=u[h]}},e.fn[n]=function(s,l,i){var a=null,o=this.each(function(){var o="plugin_",r=null;if(e.data(this,o+n)){if(r=e.data(this,o+n),"destroy"===s)return r.destroy(),e.data(this,o+n,null),void 0;var c=r[s];return"function"==typeof c&&(a=c.call(r,l,i)),!1}r=new t(this,s),e.data(this,o+n,r)});return a?a:o}}(jQuery,window,document);